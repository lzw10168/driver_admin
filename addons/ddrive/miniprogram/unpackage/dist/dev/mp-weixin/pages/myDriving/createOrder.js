(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/myDriving/createOrder"],{177:
/*!*************************************************************************************************************************!*\
  !*** D:/PHP/phpstudy_pro/WWW/ddcar_server/addons/ddrive/miniprogram/main.js?{"page":"pages%2FmyDriving%2FcreateOrder"} ***!
  \*************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){n(/*! uni-pages */4);o(n(/*! vue */2));var e=o(n(/*! ./pages/myDriving/createOrder.vue */178));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},178:
/*!******************************************************************************************************!*\
  !*** D:/PHP/phpstudy_pro/WWW/ddcar_server/addons/ddrive/miniprogram/pages/myDriving/createOrder.vue ***!
  \******************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var o=n(/*! ./createOrder.vue?vue&type=template&id=9bad2b16&scoped=true& */179),r=n(/*! ./createOrder.vue?vue&type=script&lang=js& */181);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);n(/*! ./createOrder.vue?vue&type=style&index=0&id=9bad2b16&lang=scss&scoped=true& */183);var u,s=n(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),c=Object(s["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,"9bad2b16",null,!1,o["components"],u);c.options.__file="pages/myDriving/createOrder.vue",e["default"]=c.exports},179:
/*!*************************************************************************************************************************************************!*\
  !*** D:/PHP/phpstudy_pro/WWW/ddcar_server/addons/ddrive/miniprogram/pages/myDriving/createOrder.vue?vue&type=template&id=9bad2b16&scoped=true& ***!
  \*************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";n.r(e);var o=n(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=template&id=9bad2b16&scoped=true& */180);n.d(e,"render",(function(){return o["render"]})),n.d(e,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(e,"components",(function(){return o["components"]}))},180:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/PHP/phpstudy_pro/WWW/ddcar_server/addons/ddrive/miniprogram/pages/myDriving/createOrder.vue?vue&type=template&id=9bad2b16&scoped=true& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return u})),n.d(e,"recyclableRender",(function(){return i})),n.d(e,"components",(function(){return o}));var o={uniPopup:function(){return n.e(/*! import() | components/uni-popup/uni-popup */"components/uni-popup/uni-popup").then(n.bind(null,/*! @/components/uni-popup/uni-popup.vue */232))}},r=function(){var t=this,e=t.$createElement,n=(t._self._c,t._f("kilometer")(t.route.distance));t.$mp.data=Object.assign({},{$root:{f0:n}})},i=!1,u=[];r._withStripped=!0},181:
/*!*******************************************************************************************************************************!*\
  !*** D:/PHP/phpstudy_pro/WWW/ddcar_server/addons/ddrive/miniprogram/pages/myDriving/createOrder.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var o=n(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=script&lang=js& */182),r=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=r.a},182:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/PHP/phpstudy_pro/WWW/ddcar_server/addons/ddrive/miniprogram/pages/myDriving/createOrder.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=s(n(/*! ./node_modules/@babel/runtime/regenerator */17)),r=s(n(/*! ../../libs/qqmap-wx-jssdk/qqmap-wx-jssdk.js */20)),i=s(n(/*! ../../common/helper.js */21)),u=s(n(/*! ../../common/api.js */22));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n,o,r,i,u){try{var s=t[i](u),c=s.value}catch(a){return void n(a)}s.done?e(c):Promise.resolve(c).then(o,r)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function u(t){c(i,o,r,u,s,"next",t)}function s(t){c(i,o,r,u,s,"throw",t)}u(void 0)}))}}var d=function(){n.e(/*! require.ensure | components/uni-popup/uni-popup */"components/uni-popup/uni-popup").then(function(){return resolve(n(/*! @/components/uni-popup/uni-popup.vue */232))}.bind(null,n)).catch(n.oe)},l={components:{uniPopup:d},filters:{kilometer:function(t){var e=parseFloat(t/1e3);return e.toFixed(2)}},data:function(){return{status:1,currLocation:{},currAddress:{},toAddress:{},map:{latitude:"",longitude:"",covers:[],scale:16,polyline:[]},suggestion:[],selectType:"",start:{},end:{},input:"",focus:!1,route:{},price:""}},onShow:function(){this.initSdk(),this.getLocation()},methods:{getPrice:function(){var t=this;return a(o.default.mark((function e(){var n;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.default.getPrice(t.route.distance,0);case 2:n=e.sent,t.price=n.data,t.status=2;case 5:case"end":return e.stop()}}),e)})))()},direction:function(){var t=this;this.qqmapsdk.direction({mode:"driving",from:this.start.latitude+","+this.start.longitude,to:this.end.latitude+","+this.end.longitude,complete:function(e){if(console.log(e),!e.result||!e.result.routes||0==e.result.routes.length)return i.default.toast("未获取到有效路线"),!1;for(var n=e.result.routes[0].polyline,o=[],r=1e6,u=2;u<n.length;u++)n[u]=Number(n[u-2])+Number(n[u])/r;for(var s=0;s<n.length;s+=2)o.push({latitude:n[s],longitude:n[s+1]});for(var c=[50,100,200,500,1900,2e3,5e3,1e4,2e4,25e3,5e4,1e5,2e5,5e5],a=18,d=e.result.routes[0].distance,l=0;l<c.length;l++)if(c[l]-d>0){a=18-l+4;break}t.map={latitude:o[0].latitude,longitude:o[0].longitude,scale:a,polyline:[{points:o,color:"#227AFF",width:4}]},t.route=e.result.routes[0],t.getPrice()}})},selectAddress:function(t){this.selectType=t,this.$refs.popup.open(),this.focus=!0},setAddress:function(t){"start"==this.selectType?this.start=t:this.end=t,this.closePopup()},closePopup:function(){this.focus=!1,this.input="",this.suggestion=[],this.$refs.popup.close()},onInputAddress:function(t){var e=this,n=t.detail.value;this.qqmapsdk.getSuggestion({keyword:n,region:this.currAddress.address_component.city,success:function(t){console.log(t);for(var n=[],o=0;o<t.data.length;o++)n.push({title:t.data[o].title,id:t.data[o].id,addr:t.data[o].address,city:t.data[o].city,district:t.data[o].district,latitude:t.data[o].location.lat,longitude:t.data[o].location.lng});e.suggestion=n},fail:function(t){console.error(t)},complete:function(t){console.log(t)}})},initSdk:function(){this.qqmapsdk=new r.default({key:i.default.config.qqmapsdk.key})},getLocation:function(){var e=this;t.getLocation({type:"gcj02",success:function(t){e.currLocation=t,e.map.latitude=t.latitude,e.map.longitude=t.longitude,e.map.covers.push({latitude:t.latitude,longitude:t.longitude,iconPath:"../../static/marker.png"}),e.qqmapsdk.reverseGeocoder({location:{latitude:t.latitude,longitude:t.longitude},complete:function(t){console.log(t),0==t.status&&(e.currAddress=t.result)}})},complete:function(t){console.log(t)}})}}};e.default=l}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},183:
/*!****************************************************************************************************************************************************************!*\
  !*** D:/PHP/phpstudy_pro/WWW/ddcar_server/addons/ddrive/miniprogram/pages/myDriving/createOrder.vue?vue&type=style&index=0&id=9bad2b16&lang=scss&scoped=true& ***!
  \****************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var o=n(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./createOrder.vue?vue&type=style&index=0&id=9bad2b16&lang=scss&scoped=true& */184),r=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=r.a},184:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/PHP/phpstudy_pro/WWW/ddcar_server/addons/ddrive/miniprogram/pages/myDriving/createOrder.vue?vue&type=style&index=0&id=9bad2b16&lang=scss&scoped=true& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){}},[[177,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/myDriving/createOrder.js.map