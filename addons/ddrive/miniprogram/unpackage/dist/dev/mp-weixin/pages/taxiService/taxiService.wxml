<view class="data-v-37fb4976"><map class="map data-v-37fb4976" latitude="{{map.latitude}}" longitude="{{map.longitude}}" markers="{{map.covers}}" scale="{{map.scale}}" polyline="{{map.polyline}}" data-event-opts="{{[['tap',[['onMapTap',['$event']]]]]}}" bindtap="__e"></map><uni-popup class="popup data-v-37fb4976 vue-ref" vue-id="71233360-1" type="top" data-ref="popup" bind:__l="__l" vue-slots="{{['default']}}"><view class="destination data-v-37fb4976"><input type="text" focus="{{focus}}" placeholder="{{'请输入'+(selectType=='end'?'目的地':'出发地')}}" data-event-opts="{{[['input',[['__set_model',['','input','$event',[]]],['onInputAddress',['$event']]]]]}}" value="{{input}}" bindinput="__e" class="data-v-37fb4976"/><text data-event-opts="{{[['tap',[['closePopup',['$event']]]]]}}" bindtap="__e" class="data-v-37fb4976">取消</text></view><block wx:for="{{suggestion}}" wx:for-item="v" wx:for-index="i" wx:key="i"><view data-event-opts="{{[['tap',[['setAddress',['$0'],[[['suggestion','',i]]]]]]]}}" class="addressHistory data-v-37fb4976" bindtap="__e"><text class="data-v-37fb4976">{{v.title}}</text>{{''+v.addr+''}}</view></block></uni-popup><view class="taxi data-v-37fb4976"><block wx:if="{{status==-1}}"><view class="order data-v-37fb4976"><view class="money data-v-37fb4976"><text class="data-v-37fb4976">{{"预计费用"+order.estimated_price+"元"}}</text>{{''+order.start+" - "+order.end+''}}</view><button class="xiadan data-v-37fb4976" type="primary" disabled="{{true}}">订单已取消</button></view></block><block wx:if="{{status==1}}"><view class="call data-v-37fb4976"><view class="input data-v-37fb4976" style="border-bottom:1px solid #F0F0F0;"><text class="icon green data-v-37fb4976"></text><input type="text" disabled="disabled" placeholder="出发位置" data-event-opts="{{[['tap',[['selectAddress',['start']]]]]}}" value="{{currAddress.formatted_addresses.recommend}}" bindtap="__e" class="data-v-37fb4976"/><button type="primary" data-event-opts="{{[['tap',[['call',['$event']]]]]}}" bindtap="__e" class="data-v-37fb4976">呼叫司机</button></view><view class="input data-v-37fb4976"><text class="icon orange data-v-37fb4976"></text><input type="text" placeholder="你要去哪" disabled="disabled" data-event-opts="{{[['tap',[['selectAddress',['end']]]]]}}" value="{{toAddress.title}}" bindtap="__e" class="data-v-37fb4976"/></view><view class="input data-v-37fb4976"><text class="icon blue data-v-37fb4976"></text><input type="mobile" placeholder="联系电话(不填则使用注册手机号)" data-event-opts="{{[['input',[['__set_model',['','mobile','$event',[]]]]]]}}" value="{{mobile}}" bindinput="__e" class="data-v-37fb4976"/></view></view></block><block wx:if="{{status==2}}"><view class="theFare data-v-37fb4976"><view class="money data-v-37fb4976"><text class="data-v-37fb4976">{{"预计费用"+price+"元"}}</text>作为参考不作为最终付款</view><button class="xiadan data-v-37fb4976" type="primary" data-event-opts="{{[['tap',[['createOrder']]]]}}" bindtap="__e">立即下单</button></view></block><block wx:if="{{status==3}}"><view class="order data-v-37fb4976"><view class="cancel data-v-37fb4976"><text data-event-opts="{{[['tap',[['cancel',['确定要取消订单吗？']]]]]}}" class="text data-v-37fb4976" bindtap="__e">取消订单</text></view><view class="money data-v-37fb4976"><text class="data-v-37fb4976">{{"预计费用"+price+"元"}}</text>作为参考不作为最终付款</view><button class="xiadan data-v-37fb4976" type="primary" disabled="{{true}}">{{"等待司机接单"+cancelData.time}}</button></view></block><block wx:if="{{status==4}}"><view class="new data-v-37fb4976"><view class="cancel data-v-37fb4976"><text data-event-opts="{{[['tap',[['cancel',['确定要取消订单吗？']]]]]}}" class="text data-v-37fb4976" bindtap="__e">取消订单</text></view><view class="user data-v-37fb4976"><image src="{{order.driver.avatar}}" mode class="data-v-37fb4976"></image><view class="name data-v-37fb4976"><text class="item1 data-v-37fb4976">{{order.driver.nickname}}</text><text class="item2 data-v-37fb4976">{{order.driver.total_order+"单"}}</text><text class="item2 data-v-37fb4976">{{"驾龄"+order.driver.driving_age+"年"}}</text><text class="item2 data-v-37fb4976">{{"总里程"+order.driver.total_distance+"km"}}</text></view><view data-event-opts="{{[['tap',[['callPhone',['$0'],['order.driver.mobile']]]]]}}" class="phone data-v-37fb4976" bindtap="__e"><text class="icon blue data-v-37fb4976"></text>{{''+order.driver.mobile+''}}</view></view><view class="money data-v-37fb4976"><text class="data-v-37fb4976">{{"预计费用"+order.estimated_price+"元"}}</text><block wx:if="{{order.status==4}}"><view class="data-v-37fb4976">司机等待10分钟内免费，超出后每分钟1元</view></block></view><button class="xiadan data-v-37fb4976" type="primary" disabled="{{true}}">{{order.status==1?'司机已接单':'司机等待中'}}</button></view></block><block wx:if="{{status==5}}"><view class="new data-v-37fb4976"><view class="user data-v-37fb4976"><image src="{{order.driver.avatar}}" mode class="data-v-37fb4976"></image><view class="name data-v-37fb4976"><text class="item1 data-v-37fb4976">{{order.driver.nickname}}</text><text class="item2 data-v-37fb4976">{{order.driver.total_order+"单"}}</text><text class="item2 data-v-37fb4976">{{"驾龄"+order.driver.driving_age+"年"}}</text><text class="item2 data-v-37fb4976">{{"总里程"+order.driver.total_distance+"km"}}</text></view><view data-event-opts="{{[['tap',[['callPhone',['$0'],['order.driver.mobile']]]]]}}" class="phone data-v-37fb4976" bindtap="__e"><text class="icon blue data-v-37fb4976"></text>{{''+order.driver.mobile+''}}</view></view><view class="money tips data-v-37fb4976"><view class="item data-v-37fb4976" style="width:100%;font-size:40rpx;font-weight:800;text-align:center;">{{"实时费用"+actual.price+"元"}}</view><view class="item data-v-37fb4976" style="width:100%;font-size:22rpx;color:#D2D2D2;margin-top:20rpx;text-align:center;">{{'已行驶'+$root.f0+" km，预计还需要"+route.duration+'分钟到达'}}</view></view></view></block><block wx:if="{{status==6}}"><view class="payment data-v-37fb4976"><view class="user data-v-37fb4976"><image src="{{order.driver.avatar}}" mode class="data-v-37fb4976"></image><view class="name data-v-37fb4976"><text class="item1 data-v-37fb4976">{{order.driver.nickname}}</text><text class="item2 data-v-37fb4976">{{order.driver.total_order+"单"}}</text><text class="item2 data-v-37fb4976">{{"驾龄"+order.driver.driving_age+"年"}}</text><text class="item2 data-v-37fb4976">{{"总里程"+order.driver.total_distance+"km"}}</text></view><view data-event-opts="{{[['tap',[['callPhone',['$0'],['order.driver.mobile']]]]]}}" class="phone data-v-37fb4976" bindtap="__e"><text class="icon blue data-v-37fb4976"></text>{{''+order.driver.mobile+''}}</view></view><view class="money data-v-37fb4976"><text style="width:100%;font-size:40rpx;font-weight:800;text-align:center;" class="data-v-37fb4976">{{"实时费用"+order.price+"元"}}</text><text style="width:100%;font-size:22rpx;color:#D2D2D2;margin-top:20rpx;text-align:center;" class="data-v-37fb4976">{{"到达时间"+$root.f1}}</text></view><button class="xiadan data-v-37fb4976" type="primary" data-event-opts="{{[['tap',[['pay',['$event']]]]]}}" bindtap="__e">{{"确认支付"+order.price+"元"}}</button></view></block><block wx:if="{{status==7}}"><view class="comment data-v-37fb4976"><view class="user data-v-37fb4976"><image src="{{order.driver.avatar}}" mode class="data-v-37fb4976"></image><view class="name data-v-37fb4976"><text class="item1 data-v-37fb4976">{{order.driver.nickname}}</text><text class="item2 data-v-37fb4976">{{order.driver.total_order+"单"}}</text><text class="item2 data-v-37fb4976">{{"驾龄"+order.driver.driving_age+"年"}}</text><text class="item2 data-v-37fb4976">{{"总里程"+order.driver.total_distance+"km"}}</text></view><view class="phone data-v-37fb4976"><text class="data-v-37fb4976"></text>{{''+order.driver.mobile+''}}</view></view><block wx:if="{{order.comment==1}}"><view class="money data-v-37fb4976"><view class="data-v-37fb4976">{{"订单已完成，到达时间"+$root.f2}}</view><view class="data-v-37fb4976">{{"已付"+order.price+"元"}}</view></view></block><block wx:if="{{order.comment==0}}"><view class="comments data-v-37fb4976"><my-issue vue-id="71233360-2" score="{{score}}" headPicShow="{{false}}" submitShow="{{false}}" headTitleShow="{{false}}" data-event-opts="{{[['^scoreChange',[['scoreChange']]]]}}" bind:scoreChange="__e" class="data-v-37fb4976" bind:__l="__l"></my-issue></view></block><block wx:if="{{order.comment==0}}"><button class="comment-btn data-v-37fb4976" type="primary" data-event-opts="{{[['tap',[['comment',['$event']]]]]}}" bindtap="__e">评价本次服务</button></block><block wx:if="{{order.comment==1}}"><button class="done data-v-37fb4976" type="primary" data-event-opts="{{[['tap',[['done',['$event']]]]]}}" bindtap="__e">订单已完成</button></block></view></block></view></view>